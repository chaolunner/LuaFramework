-- c# extension classes
system = CS.UniEasy.ECS.ISystemExtensions
group = CS.UniEasy.ECS.IGroupExtensions

-- c# generic methods
get_component_generic = xlua.get_generic_method(CS.UniEasy.ECS.IEntity, "GetComponent")
get_component = function(entity, type)
    return get_component_generic(type)(entity)
end

-- lua methods
function create_system(path, container)
    local name = string.match(path, ".+/(.+)")
    local go = CS.UnityEngine.GameObject(name)
    go:SetActive(false)
    local system = go:AddComponent(typeof(CS.UniEasy.ECS.LuaSystem))
    system.SystemEnv = new_env()
    system.SystemEnv.self = system
    require(path)(system.SystemEnv)
    container:Inject(system)
    go:SetActive(true)
    return go
end
